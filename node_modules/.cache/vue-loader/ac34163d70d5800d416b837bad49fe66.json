{"remainingRequest":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/src/components/Ticket.vue?vue&type=style&index=0&id=688aab3c&scoped=true&lang=css&","dependencies":[{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/src/components/Ticket.vue","mtime":1648540086141},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/css-loader/dist/cjs.js","mtime":1648432830993},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1648432831228},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/postcss-loader/src/index.js","mtime":1648432831052},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/cache-loader/dist/cjs.js","mtime":1648432830861},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/vue-loader/lib/index.js","mtime":1648432831130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi51bnNlbGVjdGVkLXNlYXQgewoJYmFja2dyb3VuZDogdXJsKCcuLi9hc3NldHMvaW1nL3Vuc2VsZWN0ZWQucG5nJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7CgliYWNrZ3JvdW5kLXNpemU6IGF1dG8gODglOwp9Cgouc2VsZWN0ZWQtc2VhdCB7CgliYWNrZ3JvdW5kOiB1cmwoJy4uL2Fzc2V0cy9pbWcvc2VsZWN0ZWQucG5nJykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7CgliYWNrZ3JvdW5kLXNpemU6IGF1dG8gODglOwp9CgouYm91Z2h0LXNlYXQgewoJYmFja2dyb3VuZDogdXJsKCcuLi9hc3NldHMvaW1nL2JvdWdodC5wbmcnKSBjZW50ZXIgY2VudGVyIG5vLXJlcGVhdDsKCWJhY2tncm91bmQtc2l6ZTogYXV0byA4OCU7Cn0KCi50aWNrZXQgewoJd2lkdGg6IDEwMDBweDsKCWhlaWdodDogNjAwcHg7CgltYXJnaW46IDUwcHggYXV0bzsKCW1pbi13aWR0aDogMTAwMHB4OwoJYm9yZGVyOiAxcHggc29saWQgcmdiYSgyMDcsIDIwMywgMjAzLCAuNSk7CglkaXNwbGF5OiBmbGV4Owp9CgoubGVmdCB7Cgl3aWR0aDogNjgwcHg7Cglib3gtc2l6aW5nOiBib3JkZXItYm94OwoJcGFkZGluZzogMjBweDsKCglkaXNwbGF5OiBmbGV4Owp9CgoubGVmdCAuY291bG1uIHsKCXdpZHRoOiA2MHB4OwoJbWFyZ2luLXRvcDogNTBweDsKCWxpc3Qtc3R5bGUtdHlwZTogbm9uZTsKfQoKLmxlZnQgLmNvdWxtbiBsaSB7Cgl3aWR0aDogMTZweDsKCWhlaWdodDogMTZweDsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWJvcmRlci1yYWRpdXM6IDUwJTsKCWJhY2tncm91bmQtY29sb3I6ICNBRUFFQUU7CglsaW5lLWhlaWdodDogMTZweDsKCS8qIGJveC1zaXppbmc6IGJvcmRlci1ib3g7ICovCgltYXJnaW4tdG9wOiAyMHB4Owp9CgoubGVmdCAuY291bG1uIGxpOm50aC1vZi10eXBlKDEpIHsKCW1hcmdpbi10b3A6IDEwcHg7Cn0KCi5yaWdodCB7CglmbGV4OiAxOwp9CgoubGVmdFVwIHsKCWhlaWdodDogNDYwcHg7Cn0KCi5zZWF0VGl0bGUgewoJd2lkdGg6IDU4MHB4OwoJaGVpZ2h0OiA1MHB4Owp9Cgouc2VhdFRpdGxlIHAgewoJd2lkdGg6IDEwMCU7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cglmb250LXNpemU6IDE2cHg7CgltYXJnaW46IDA7Cn0KCnMgewoJZGlzcGxheTogYmxvY2s7CgliYWNrZ3JvdW5kOiB1cmwoJy4vLi4vYXNzZXRzL2ltZy9iYWNrLnBuZycpOwoJaGVpZ2h0OiAzMHB4Owp9Cgouc2VhdGJvZHkgewoJd2lkdGg6IDEwMCU7CgloZWlnaHQ6IDM3MHB4OwoJLyogYmFja2dyb3VuZC1jb2xvcjphbGljZWJsdWU7ICovCglvdmVyZmxvdy15OiBzY3JvbGw7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KCi5zZWF0Ym9keTo6LXdlYmtpdC1zY3JvbGxiYXIgewoJZGlzcGxheTogbm9uZTsKfQoKLmlubmVyLVNlYXQgewoJd2lkdGg6IDEwMCU7CgloZWlnaHQ6IDEwMCU7Cn0KCi5sZWZ0RG93biB7Cglib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgyMDcsIDIwMywgMjAzLCAuNSk7Cn0KCi5sZWZ0RG93biAuc2VhdENob29zZUluZm9yIHsKCWhlaWdodDogMTAwcHg7CgkvKiBiYWNrZ3JvdW5kLWNvbG9yOmFsaWNlYmx1ZTsgKi8KfQoKLmNsZWFyZml4IHsKCWhlaWdodDogMjhweDsKCWRpc3BsYXk6IGZsZXg7Cn0KCi5jbGVhcmZpeCBsaSB7Cgl2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwoJbGlzdC1zdHlsZS10eXBlOiBub25lOwoJZmxleDogMTsKfQoKLmNsZWFyZml4IGxpIHNwYW4gewoJdmVydGljYWwtYWxpZ246IC01cHg7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cgl3aWR0aDogMjZweDsKCWhlaWdodDogMjVweDsKfQoKLnNlYXRDaG9vc2VJbmZvciBwIHsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWZvbnQtc2l6ZTogMTJweDsKfQoKLyog5Y+z6L6555qEICovCi5yaWdodCB7Cglib3gtc2l6aW5nOiBib3JkZXItYm94OwoJcGFkZGluZzogMjBweCAwIDAgMjBweDsKCWJhY2tncm91bmQtY29sb3I6ICNGRkY1RjU7CgltYXgtd2lkdGg6IDMyMHB4Owp9CgoucmlnaHRVcCB7CglwYWRkaW5nOiAwIDEwcHggMjBweCAwOwoJaGVpZ2h0OiAxMTVweDsKCWRpc3BsYXk6IGZsZXg7Cn0KCi5yaWdodFVwIC5vaW1hZ2UgewoJd2lkdGg6IDgwcHg7CgloZWlnaHQ6IDExM3B4Owp9CgoucmlnaHRVcCAub2ltYWdlIGltZyB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwJTsKfQoKLnJpZ2h0VXAgLm1zZyB7CglmbGV4OiAxOwoJcGFkZGluZzogMCAwIDAgMTBweDsKCWZvbnQtc2l6ZTogMTRweDsKfQoKLnJpZ2h0VXAgLm1zZyBkaXY6bnRoLW9mLXR5cGUoMSkgewoJZm9udC13ZWlnaHQ6IDcwMDsKCXBhZGRpbmc6IDVweDsKfQoKLnJpZ2h0VXAgLm1zZyBkaXY6bnRoLW9mLXR5cGUobisyKSB7CglwYWRkaW5nOiA1cHg7Cgljb2xvcjogIzY2NjsKfQoKLnJpZ2h0RG93biAucGxhY2UsCi50aW5nLAoub25jZSB7Cglmb250LXNpemU6IDE0cHg7Cgljb2xvcjogIzlhOWE5YTsKCWhlaWdodDogMzVweDsKfQoKLnJpZ2h0RG93biBzcGFuIHsKCWZvbnQtc2l6ZTogMTZweDsKfQoKLnBsYWNlIHNwYW4sCi50aW5nIHNwYW4gewoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogIzNlM2UzZTsKfQoKLm9uY2Ugc3BhbiB7Cgljb2xvcjogI2ViMDAyYTsKCWZvbnQtd2VpZ2h0OiBib2xkOwp9CgoucmlnaHREb3duIC5vc2VhdCAucGlhbyB7CgltYXJnaW4tdG9wOiAxMHB4OwoJZGlzcGxheTogZmxleDsKCWZsZXgtd3JhcDogd3JhcDsKfQoKLnJpZ2h0RG93biAub3NlYXQgewoJZm9udC1zaXplOiAxNHB4OwoJY29sb3I6ICM5YTlhOWE7CgltaW4taGVpZ2h0OiA3MHB4Owp9CgoucmlnaHREb3duIC5vc2VhdCAueGlhb3BpYW8gewoJd2lkdGg6IDQ4cHg7CgloZWlnaHQ6IDI2cHg7Cgljb2xvcjogI2ViMDAyYTsKCWZvbnQtc2l6ZTogMTJweDsKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CgltYXJnaW46IDBweCAyNHB4IDEwcHggMDsKCXBhZGRpbmc6IDAgNXB4OwoJYm9yZGVyOiAxcHggc29saWQgI2ViMDAyYTsKCWxpbmUtaGVpZ2h0OiAyNnB4Owp9CgouamlhZ2UgewoJaGVpZ2h0OiA3MHB4OwoJYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjA3LCAyMDMsIDIwMywgLjUpOwoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMjA3LCAyMDMsIDIwMywgLjUpOwoJZGlzcGxheTogZmxleDsKCWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CglqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Cn0KCi5qaWFnZSAueXVhbmppYSwKLmFsbHBsYWNlIHsKCXRvcDogNXB4OwoJZm9udC1zaXplOiAxNHB4OwoJY29sb3I6ICM5YTlhOWE7CglwYWRkaW5nOiA1cHggMDsKfQoKLnhpYWRhbiB7Cgl3aWR0aDogMTU1cHg7CgloZWlnaHQ6IDQycHg7Cglmb250LXNpemU6IDE0cHg7Cgljb2xvcjogI2ZmZjsKCWJhY2tncm91bmQtY29sb3I6ICNlYjAwMmE7CgltYXJnaW46IDQwcHggMCAwOwoJbGluZS1oZWlnaHQ6IDQycHg7Cgl0ZXh0LWFsaWduOiBjZW50ZXI7Cn0K"},{"version":3,"sources":["Ticket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8RA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ticket.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"ticket\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<ul class=\"coulmn\">\r\n\t\t\t\t<li>1</li>\r\n\t\t\t\t<li>2</li>\r\n\t\t\t\t<li>3</li>\r\n\t\t\t\t<li>4</li>\r\n\t\t\t\t<li>5</li>\r\n\t\t\t\t<li>6</li>\r\n\t\t\t\t<li>7</li>\r\n\t\t\t\t<li>8</li>\r\n\t\t\t\t<li>9</li>\r\n\t\t\t\t<li>10</li>\r\n\t\t\t</ul>\r\n\t\t\t<div class=\"allseat\">\r\n\t\t\t\t<div class=\"leftUp\">\r\n\t\t\t\t\t<div class=\"seatTitle\">\r\n\t\t\t\t\t\t<s></s>\r\n\t\t\t\t\t\t<p>布达佩斯大剧院的银幕</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"seatbody\">\r\n\t\t\t\t\t\t<div v-for=\"row in seatCol\" :key=\"row\">\r\n\t\t\t\t\t\t\t<div v-for=\"col in seatCol\" :key=\"col\" class=\"seat\"\r\n\t\t\t\t\t\t\t\t:style=\"{width:seatWidth+'px',height:seatHeight+'px',display:'inline-block'}\">\r\n\t\t\t\t\t\t\t\t<div class=\"inner-Seat\" v-if=\"seatArray[row-1][col-1]!=-1\"\r\n\t\t\t\t\t\t\t\t\t:class=\"seatArray[row-1][col-1]===2?'bought-seat':(seatArray[row-1][col-1]===1?'selected-seat':'unselected-seat')\"\r\n\t\t\t\t\t\t\t\t\t@click=\"handleChooseSeat(row-1,col-1)\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"leftDown\">\r\n\t\t\t\t\t<div class=\"seatChooseInfor\">\r\n\t\t\t\t\t\t<ul class=\"clearfix\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span class=\"unselected-seat\"></span>\r\n\t\t\t\t\t\t\t\t可选座位\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span class=\"selected-seat\"></span>\r\n\t\t\t\t\t\t\t\t已选座位\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span class=\"bought-seat\"></span>\r\n\t\t\t\t\t\t\t\t不可选座位\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<p>本影厅共有座位{{allseatnum}}个，当前已售{{zhoudata1.seat_ticket_count}}个</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t<div class=\"right\">\r\n\t\t\t<div class=\"rightUp\">\r\n\t\t\t\t<div class=\"oimage\">\r\n\t\t\t\t\t<img :src='zhoudata.image'>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"msg\">\r\n\t\t\t\t\t<div>{{zhoudata.name}}</div>\r\n\t\t\t\t\t<div>版本: 国语{{zhoudata.play_type}}</div>\r\n\t\t\t\t\t<div>片长: {{zhoudata.play_length}}分钟</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"rightDown\">\r\n\t\t\t\t<div class=\"place\">影院:\r\n\t\t\t\t\t<span>{{odata.place}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"ting\">影厅:\r\n\t\t\t\t\t<span>{{zhoudata1.studio}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"once\">场次:\r\n\t\t\t\t\t<span>{{zhoudata1.start_time}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"oseat\">\r\n\t\t\t\t\t座位:\r\n\t\t\t\t\t<div class=\"piao\">\r\n\t\t\t\t\t\t<div class=\"xiaopiao\" v-for=\"(item,index) in selectTicket\" :key=\"item.id\"\r\n\t\t\t\t\t\t\t@click=\"remove(index)\">\r\n\t\t\t\t\t\t\t{{item.row}}行{{item.col}}列\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p style=\"color:black\">已选择<span\r\n\t\t\t\t\t\t\t\tstyle=\"color:#eb002a\">{{selectTicket.length}}</span>个座位，再次点击座位可以取消</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"jiage\">\r\n\t\t\t\t\t<div class=\"yuanjia\">原价:￥{{zhoudata1.price}}x{{selectTicket.length}}</div>\r\n\t\t\t\t\t<div class=\"allplace\">总计:\r\n\t\t\t\t\t\t<span style=\"color:#eb002a\">\r\n\t\t\t\t\t\t\t{{zhoudata1.price*selectTicket.length}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"xiadan\" @click=\"this.sendmsg\">确认信息，下单</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tcreate\r\n\t} from 'domain';\r\n\timport store from '@/modules/login.js'\r\n\tconst odata = {\r\n\t\timage: 'https://img.alicdn.com/bao/uploaded/i3/TB1ebtnTrvpK1RjSZPiXXbmwXXa_.jpg_300x300.jpg',\r\n\t\tname: '最好的我们',\r\n\t\tbanben: '国语2D',\r\n\t\ttime: '110',\r\n\t\tplace: '布达佩斯大剧院',\r\n\t\tting: '5号厅',\r\n\t\tonce: '20:15',\r\n\t\tprice: 33.00,\r\n\t}\r\n\tconst url = 'http://129.204.185.247:8000/api/app01/getplay';\r\n\tconst url1 = 'http://129.204.185.247:8000/api/app01/getschemebyplayid';\r\n\tconst url2 = 'http://129.204.185.247:8000/api/app01/getticketbyschemeid';\r\n\tconst url3 = 'http://129.204.185.247:8000/api/app01/buyticket';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tseatRow: 10,\r\n\t\t\t\tseatCol: 10,\r\n\t\t\t\tseatArray: [],\r\n\t\t\t\tseatWidth: 46,\r\n\t\t\t\tseatHeight: 33,\r\n\t\t\t\tnum: 0,\r\n\t\t\t\tallseatnum: 100,\r\n\t\t\t\tselectseatnum: 50,\r\n\t\t\t\todata,\r\n\t\t\t\tselectTicket: [],\r\n\t\t\t\tok: 0,\r\n\t\t\t\tid: null,\r\n\t\t\t\tsch_id: null,\r\n\t\t\t\tzhoudata: {},\r\n\t\t\t\tzhoudata1: {},\r\n\t\t\t\tselected: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.id = this.$route.query.id,\r\n\t\t\t\tthis.sch_id = this.$route.query.sch_id\r\n\t\t\tthis.getdata();\r\n\t\t\tthis.getticket();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initSeatArray();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetticket() {\r\n\t\t\t\tfetch(url2, {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: 'sch_id=' + this.sch_id\r\n\t\t\t\t\t}).then(response => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tthis.selected = data;\r\n\t\t\t\t\t\t// console.log(data);\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetdata() {\r\n\t\t\t\tfetch(url, {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: 'id=' + this.id\r\n\t\t\t\t\t}).then(response => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tdata[0].image = 'http://129.204.185.247:8000' + data[0].image\r\n\t\t\t\t\t\t// this.movie = data[0];\r\n\t\t\t\t\t\t// console.log(data[0])\r\n\t\t\t\t\t\tthis.zhoudata = data[0];\r\n\t\t\t\t\t})\r\n\t\t\t\tfetch(url1, {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: 'play_id=' + this.id\r\n\t\t\t\t\t}).then(response => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tdata.map((item, index) => {\r\n\t\t\t\t\t\t\titem.start_time = item.start_time.slice(11, 16);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlet xxx = data.findIndex(item => item.sch_id == this.sch_id);\r\n\t\t\t\t\t\tthis.zhoudata1 = data[xxx];\r\n\t\t\t\t\t\t// console.log(data[xxx])\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//-1  座位出问题\r\n\t\t\t// 0  可选座位\r\n\t\t\t// 1  已选座位\r\n\t\t\t// 2  已购票座位\r\n\t\t\tinitSeatArray: function() {\r\n\t\t\t\tlet seatArray = Array(this.seatRow).fill(0).map(() => Array(this.seatCol).fill(0));\r\n\t\t\t\tthis.seatArray = seatArray;\r\n\t\t\t\tthis.initNonSeatPlace();\r\n\t\t\t},\r\n\t\t\tinitNonSeatPlace: function() {\r\n\t\t\t\t// this.seatArray[2][3] = 2;\r\n\t\t\t\t// this.seatArray[3][3] = 2;\r\n\t\t\t\t// this.seatArray[2][4] = 2;\r\n\t\t\t\t// this.seatArray[5][5] = 2;\r\n\t\t\t\tthis.selected.forEach((item => {\r\n\t\t\t\t\t// console.log(item.row,item.col);\r\n\t\t\t\t\tthis.seatArray[item.row - 1][item.col - 1] = 2;\r\n\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\thandleChooseSeat: function(x, y) {\r\n\t\t\t\tthis.ok++;\r\n\t\t\t\tconsole.log(this.num);\r\n\t\t\t\tlet seatValue = this.seatArray[x][y];\r\n\t\t\t\t// let newArray = this.seatArray;\r\n\t\t\t\tif (seatValue === 2) return\r\n\t\t\t\tif (seatValue === 1) {\r\n\t\t\t\t\t// newArray[x][y]=0;\r\n\t\t\t\t\tlet onum = this.selectTicket.findIndex(item => item.row == x + 1 && item.col == y + 1);\r\n\t\t\t\t\tthis.remove(onum);\r\n\r\n\t\t\t\t} else if (seatValue === 0) {\r\n\t\t\t\t\tthis.num++;\r\n\t\t\t\t\tif (this.num > 4) {\r\n\t\t\t\t\t\talert('单人最多选择四个座位');\r\n\t\t\t\t\t\tthis.num--;\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// newArray[x][y]=1;\r\n\t\t\t\t\tthis.selectTicket.push({\r\n\t\t\t\t\t\trow: x + 1,\r\n\t\t\t\t\t\tcol: y + 1,\r\n\t\t\t\t\t\tid: this.ok\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// this.seatArray = newArray.slice(); \r\n\t\t\t},\r\n\t\t\tremove: function(onum) {\r\n\t\t\t\tthis.selectTicket.splice(onum, 1);\r\n\t\t\t\tthis.num--;\r\n\t\t\t},\r\n\t\t\tsendmsg: function() {\r\n\t\t\t\t// fetch(url3,{\r\n\t\t\t\t//     method:'POST',\r\n\t\t\t\t//     headers: {\r\n\t\t\t\t//     'Content-Type': 'application/json'\r\n\t\t\t\t//     },\r\n\t\t\t\t//     body:JSON.stringify({\r\n\t\t\t\t//         sch_id:this.sch_id,\r\n\t\t\t\t//         selectTicket:this.selectTicket\r\n\t\t\t\t//     })\r\n\t\t\t\t//     }).then(response => response.JSON())\r\n\t\t\t\t//     .then((data)=>{\r\n\t\t\t\t//         console.log(data);\r\n\t\t\t\t// })\r\n\t\t\t\tthis.$http.post(url3, {\r\n\t\t\t\t\tuser_id: store.state.userId,\r\n\t\t\t\t\tsch_id: this.sch_id,\r\n\t\t\t\t\tselectTicket: this.selectTicket\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\talert(data.body.msg);\r\n\t\t\t\t\tthis.$router.push('/home');\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tselectTicket: function() {\r\n\t\t\t\tthis.initSeatArray();\r\n\t\t\t\tlet newArray = this.seatArray;\r\n\t\t\t\tthis.selectTicket.forEach(item => {\r\n\t\t\t\t\tnewArray[item.row - 1][item.col - 1] = 1;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselected: function() {\r\n\t\t\t\tthis.initSeatArray();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.unselected-seat {\r\n\t\tbackground: url('../assets/img/unselected.png') center center no-repeat;\r\n\t\tbackground-size: auto 88%;\r\n\t}\r\n\r\n\t.selected-seat {\r\n\t\tbackground: url('../assets/img/selected.png') center center no-repeat;\r\n\t\tbackground-size: auto 88%;\r\n\t}\r\n\r\n\t.bought-seat {\r\n\t\tbackground: url('../assets/img/bought.png') center center no-repeat;\r\n\t\tbackground-size: auto 88%;\r\n\t}\r\n\r\n\t.ticket {\r\n\t\twidth: 1000px;\r\n\t\theight: 600px;\r\n\t\tmargin: 50px auto;\r\n\t\tmin-width: 1000px;\r\n\t\tborder: 1px solid rgba(207, 203, 203, .5);\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.left {\r\n\t\twidth: 680px;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 20px;\r\n\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.left .coulmn {\r\n\t\twidth: 60px;\r\n\t\tmargin-top: 50px;\r\n\t\tlist-style-type: none;\r\n\t}\r\n\r\n\t.left .coulmn li {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #AEAEAE;\r\n\t\tline-height: 16px;\r\n\t\t/* box-sizing: border-box; */\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.left .coulmn li:nth-of-type(1) {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.right {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.leftUp {\r\n\t\theight: 460px;\r\n\t}\r\n\r\n\t.seatTitle {\r\n\t\twidth: 580px;\r\n\t\theight: 50px;\r\n\t}\r\n\r\n\t.seatTitle p {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 16px;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\ts {\r\n\t\tdisplay: block;\r\n\t\tbackground: url('./../assets/img/back.png');\r\n\t\theight: 30px;\r\n\t}\r\n\r\n\t.seatbody {\r\n\t\twidth: 100%;\r\n\t\theight: 370px;\r\n\t\t/* background-color:aliceblue; */\r\n\t\toverflow-y: scroll;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.seatbody::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.inner-Seat {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.leftDown {\r\n\t\tborder-top: 1px solid rgba(207, 203, 203, .5);\r\n\t}\r\n\r\n\t.leftDown .seatChooseInfor {\r\n\t\theight: 100px;\r\n\t\t/* background-color:aliceblue; */\r\n\t}\r\n\r\n\t.clearfix {\r\n\t\theight: 28px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.clearfix li {\r\n\t\tvertical-align: middle;\r\n\t\tlist-style-type: none;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.clearfix li span {\r\n\t\tvertical-align: -5px;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 26px;\r\n\t\theight: 25px;\r\n\t}\r\n\r\n\t.seatChooseInfor p {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t/* 右边的 */\r\n\t.right {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 20px 0 0 20px;\r\n\t\tbackground-color: #FFF5F5;\r\n\t\tmax-width: 320px;\r\n\t}\r\n\r\n\t.rightUp {\r\n\t\tpadding: 0 10px 20px 0;\r\n\t\theight: 115px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.rightUp .oimage {\r\n\t\twidth: 80px;\r\n\t\theight: 113px;\r\n\t}\r\n\r\n\t.rightUp .oimage img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.rightUp .msg {\r\n\t\tflex: 1;\r\n\t\tpadding: 0 0 0 10px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.rightUp .msg div:nth-of-type(1) {\r\n\t\tfont-weight: 700;\r\n\t\tpadding: 5px;\r\n\t}\r\n\r\n\t.rightUp .msg div:nth-of-type(n+2) {\r\n\t\tpadding: 5px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.rightDown .place,\r\n\t.ting,\r\n\t.once {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #9a9a9a;\r\n\t\theight: 35px;\r\n\t}\r\n\r\n\t.rightDown span {\r\n\t\tfont-size: 16px;\r\n\t}\r\n\r\n\t.place span,\r\n\t.ting span {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #3e3e3e;\r\n\t}\r\n\r\n\t.once span {\r\n\t\tcolor: #eb002a;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.rightDown .oseat .piao {\r\n\t\tmargin-top: 10px;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.rightDown .oseat {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #9a9a9a;\r\n\t\tmin-height: 70px;\r\n\t}\r\n\r\n\t.rightDown .oseat .xiaopiao {\r\n\t\twidth: 48px;\r\n\t\theight: 26px;\r\n\t\tcolor: #eb002a;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 0px 24px 10px 0;\r\n\t\tpadding: 0 5px;\r\n\t\tborder: 1px solid #eb002a;\r\n\t\tline-height: 26px;\r\n\t}\r\n\r\n\t.jiage {\r\n\t\theight: 70px;\r\n\t\tborder-top: 1px solid rgba(207, 203, 203, .5);\r\n\t\tborder-bottom: 1px solid rgba(207, 203, 203, .5);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.jiage .yuanjia,\r\n\t.allplace {\r\n\t\ttop: 5px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #9a9a9a;\r\n\t\tpadding: 5px 0;\r\n\t}\r\n\r\n\t.xiadan {\r\n\t\twidth: 155px;\r\n\t\theight: 42px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #eb002a;\r\n\t\tmargin: 40px 0 0;\r\n\t\tline-height: 42px;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\n"]}]}