{"remainingRequest":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/src/components/Ticket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/src/components/Ticket.vue","mtime":1648540086141},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/cache-loader/dist/cjs.js","mtime":1648432830861},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/babel-loader/lib/index.js","mtime":1648432831402},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/cache-loader/dist/cjs.js","mtime":1648432830861},{"path":"/Users/stark/Projects/科学城集团/会议室选座/meeting-seat-select/node_modules/vue-loader/lib/index.js","mtime":1648432831130}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgljcmVhdGUKfSBmcm9tICdkb21haW4nOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9tb2R1bGVzL2xvZ2luLmpzJwpjb25zdCBvZGF0YSA9IHsKCWltYWdlOiAnaHR0cHM6Ly9pbWcuYWxpY2RuLmNvbS9iYW8vdXBsb2FkZWQvaTMvVEIxZWJ0blRydnBLMVJqU1pQaVhYYm13WFhhXy5qcGdfMzAweDMwMC5qcGcnLAoJbmFtZTogJ+acgOWlveeahOaIkeS7rCcsCgliYW5iZW46ICflm73or60yRCcsCgl0aW1lOiAnMTEwJywKCXBsYWNlOiAn5biD6L6+5L2p5pav5aSn5Ymn6ZmiJywKCXRpbmc6ICc15Y+35Y6FJywKCW9uY2U6ICcyMDoxNScsCglwcmljZTogMzMuMDAsCn0KY29uc3QgdXJsID0gJ2h0dHA6Ly8xMjkuMjA0LjE4NS4yNDc6ODAwMC9hcGkvYXBwMDEvZ2V0cGxheSc7CmNvbnN0IHVybDEgPSAnaHR0cDovLzEyOS4yMDQuMTg1LjI0Nzo4MDAwL2FwaS9hcHAwMS9nZXRzY2hlbWVieXBsYXlpZCc7CmNvbnN0IHVybDIgPSAnaHR0cDovLzEyOS4yMDQuMTg1LjI0Nzo4MDAwL2FwaS9hcHAwMS9nZXR0aWNrZXRieXNjaGVtZWlkJzsKY29uc3QgdXJsMyA9ICdodHRwOi8vMTI5LjIwNC4xODUuMjQ3OjgwMDAvYXBpL2FwcDAxL2J1eXRpY2tldCc7CmV4cG9ydCBkZWZhdWx0IHsKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJc2VhdFJvdzogMTAsCgkJCXNlYXRDb2w6IDEwLAoJCQlzZWF0QXJyYXk6IFtdLAoJCQlzZWF0V2lkdGg6IDQ2LAoJCQlzZWF0SGVpZ2h0OiAzMywKCQkJbnVtOiAwLAoJCQlhbGxzZWF0bnVtOiAxMDAsCgkJCXNlbGVjdHNlYXRudW06IDUwLAoJCQlvZGF0YSwKCQkJc2VsZWN0VGlja2V0OiBbXSwKCQkJb2s6IDAsCgkJCWlkOiBudWxsLAoJCQlzY2hfaWQ6IG51bGwsCgkJCXpob3VkYXRhOiB7fSwKCQkJemhvdWRhdGExOiB7fSwKCQkJc2VsZWN0ZWQ6IFtdCgkJfQoJfSwKCWNyZWF0ZWQoKSB7CgkJdGhpcy5pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLAoJCQl0aGlzLnNjaF9pZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnNjaF9pZAoJCXRoaXMuZ2V0ZGF0YSgpOwoJCXRoaXMuZ2V0dGlja2V0KCk7Cgl9LAoJbW91bnRlZCgpIHsKCQl0aGlzLmluaXRTZWF0QXJyYXkoKTsKCX0sCgltZXRob2RzOiB7CgkJZ2V0dGlja2V0KCkgewoJCQlmZXRjaCh1cmwyLCB7CgkJCQkJbWV0aG9kOiAnUE9TVCcsCgkJCQkJaGVhZGVyczogewoJCQkJCQknQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKCQkJCQl9LAoJCQkJCWJvZHk6ICdzY2hfaWQ9JyArIHRoaXMuc2NoX2lkCgkJCQl9KS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKCQkJCS50aGVuKChkYXRhKSA9PiB7CgkJCQkJdGhpcy5zZWxlY3RlZCA9IGRhdGE7CgkJCQkJLy8gY29uc29sZS5sb2coZGF0YSk7CgkJCQl9KQoJCX0sCgkJZ2V0ZGF0YSgpIHsKCQkJZmV0Y2godXJsLCB7CgkJCQkJbWV0aG9kOiAnUE9TVCcsCgkJCQkJaGVhZGVyczogewoJCQkJCQknQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcKCQkJCQl9LAoJCQkJCWJvZHk6ICdpZD0nICsgdGhpcy5pZAoJCQkJfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCgkJCQkudGhlbigoZGF0YSkgPT4gewoJCQkJCWRhdGFbMF0uaW1hZ2UgPSAnaHR0cDovLzEyOS4yMDQuMTg1LjI0Nzo4MDAwJyArIGRhdGFbMF0uaW1hZ2UKCQkJCQkvLyB0aGlzLm1vdmllID0gZGF0YVswXTsKCQkJCQkvLyBjb25zb2xlLmxvZyhkYXRhWzBdKQoJCQkJCXRoaXMuemhvdWRhdGEgPSBkYXRhWzBdOwoJCQkJfSkKCQkJZmV0Y2godXJsMSwgewoJCQkJCW1ldGhvZDogJ1BPU1QnLAoJCQkJCWhlYWRlcnM6IHsKCQkJCQkJJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnCgkJCQkJfSwKCQkJCQlib2R5OiAncGxheV9pZD0nICsgdGhpcy5pZAoJCQkJfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpCgkJCQkudGhlbigoZGF0YSkgPT4gewoJCQkJCWRhdGEubWFwKChpdGVtLCBpbmRleCkgPT4gewoJCQkJCQlpdGVtLnN0YXJ0X3RpbWUgPSBpdGVtLnN0YXJ0X3RpbWUuc2xpY2UoMTEsIDE2KTsKCQkJCQl9KQoJCQkJCWxldCB4eHggPSBkYXRhLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uc2NoX2lkID09IHRoaXMuc2NoX2lkKTsKCQkJCQl0aGlzLnpob3VkYXRhMSA9IGRhdGFbeHh4XTsKCQkJCQkvLyBjb25zb2xlLmxvZyhkYXRhW3h4eF0pCgkJCQl9KQoKCQl9LAoJCS8vLTEgIOW6p+S9jeWHuumXrumimAoJCS8vIDAgIOWPr+mAieW6p+S9jQoJCS8vIDEgIOW3sumAieW6p+S9jQoJCS8vIDIgIOW3sui0reelqOW6p+S9jQoJCWluaXRTZWF0QXJyYXk6IGZ1bmN0aW9uKCkgewoJCQlsZXQgc2VhdEFycmF5ID0gQXJyYXkodGhpcy5zZWF0Um93KS5maWxsKDApLm1hcCgoKSA9PiBBcnJheSh0aGlzLnNlYXRDb2wpLmZpbGwoMCkpOwoJCQl0aGlzLnNlYXRBcnJheSA9IHNlYXRBcnJheTsKCQkJdGhpcy5pbml0Tm9uU2VhdFBsYWNlKCk7CgkJfSwKCQlpbml0Tm9uU2VhdFBsYWNlOiBmdW5jdGlvbigpIHsKCQkJLy8gdGhpcy5zZWF0QXJyYXlbMl1bM10gPSAyOwoJCQkvLyB0aGlzLnNlYXRBcnJheVszXVszXSA9IDI7CgkJCS8vIHRoaXMuc2VhdEFycmF5WzJdWzRdID0gMjsKCQkJLy8gdGhpcy5zZWF0QXJyYXlbNV1bNV0gPSAyOwoJCQl0aGlzLnNlbGVjdGVkLmZvckVhY2goKGl0ZW0gPT4gewoJCQkJLy8gY29uc29sZS5sb2coaXRlbS5yb3csaXRlbS5jb2wpOwoJCQkJdGhpcy5zZWF0QXJyYXlbaXRlbS5yb3cgLSAxXVtpdGVtLmNvbCAtIDFdID0gMjsKCQkJfSkpCgkJfSwKCQloYW5kbGVDaG9vc2VTZWF0OiBmdW5jdGlvbih4LCB5KSB7CgkJCXRoaXMub2srKzsKCQkJY29uc29sZS5sb2codGhpcy5udW0pOwoJCQlsZXQgc2VhdFZhbHVlID0gdGhpcy5zZWF0QXJyYXlbeF1beV07CgkJCS8vIGxldCBuZXdBcnJheSA9IHRoaXMuc2VhdEFycmF5OwoJCQlpZiAoc2VhdFZhbHVlID09PSAyKSByZXR1cm4KCQkJaWYgKHNlYXRWYWx1ZSA9PT0gMSkgewoJCQkJLy8gbmV3QXJyYXlbeF1beV09MDsKCQkJCWxldCBvbnVtID0gdGhpcy5zZWxlY3RUaWNrZXQuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5yb3cgPT0geCArIDEgJiYgaXRlbS5jb2wgPT0geSArIDEpOwoJCQkJdGhpcy5yZW1vdmUob251bSk7CgoJCQl9IGVsc2UgaWYgKHNlYXRWYWx1ZSA9PT0gMCkgewoJCQkJdGhpcy5udW0rKzsKCQkJCWlmICh0aGlzLm51bSA+IDQpIHsKCQkJCQlhbGVydCgn5Y2V5Lq65pyA5aSa6YCJ5oup5Zub5Liq5bqn5L2NJyk7CgkJCQkJdGhpcy5udW0tLTsKCQkJCQlyZXR1cm4KCQkJCX0KCQkJCS8vIG5ld0FycmF5W3hdW3ldPTE7CgkJCQl0aGlzLnNlbGVjdFRpY2tldC5wdXNoKHsKCQkJCQlyb3c6IHggKyAxLAoJCQkJCWNvbDogeSArIDEsCgkJCQkJaWQ6IHRoaXMub2sKCQkJCX0pOwoJCQl9CgkJCS8vIHRoaXMuc2VhdEFycmF5ID0gbmV3QXJyYXkuc2xpY2UoKTsgCgkJfSwKCQlyZW1vdmU6IGZ1bmN0aW9uKG9udW0pIHsKCQkJdGhpcy5zZWxlY3RUaWNrZXQuc3BsaWNlKG9udW0sIDEpOwoJCQl0aGlzLm51bS0tOwoJCX0sCgkJc2VuZG1zZzogZnVuY3Rpb24oKSB7CgkJCS8vIGZldGNoKHVybDMsewoJCQkvLyAgICAgbWV0aG9kOidQT1NUJywKCQkJLy8gICAgIGhlYWRlcnM6IHsKCQkJLy8gICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKCQkJLy8gICAgIH0sCgkJCS8vICAgICBib2R5OkpTT04uc3RyaW5naWZ5KHsKCQkJLy8gICAgICAgICBzY2hfaWQ6dGhpcy5zY2hfaWQsCgkJCS8vICAgICAgICAgc2VsZWN0VGlja2V0OnRoaXMuc2VsZWN0VGlja2V0CgkJCS8vICAgICB9KQoJCQkvLyAgICAgfSkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5KU09OKCkpCgkJCS8vICAgICAudGhlbigoZGF0YSk9PnsKCQkJLy8gICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKCQkJLy8gfSkKCQkJdGhpcy4kaHR0cC5wb3N0KHVybDMsIHsKCQkJCXVzZXJfaWQ6IHN0b3JlLnN0YXRlLnVzZXJJZCwKCQkJCXNjaF9pZDogdGhpcy5zY2hfaWQsCgkJCQlzZWxlY3RUaWNrZXQ6IHRoaXMuc2VsZWN0VGlja2V0CgkJCX0pLnRoZW4oKGRhdGEpID0+IHsKCQkJCWFsZXJ0KGRhdGEuYm9keS5tc2cpOwoJCQkJdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJyk7CgkJCX0pCgkJfQoJfSwKCXdhdGNoOiB7CgkJc2VsZWN0VGlja2V0OiBmdW5jdGlvbigpIHsKCQkJdGhpcy5pbml0U2VhdEFycmF5KCk7CgkJCWxldCBuZXdBcnJheSA9IHRoaXMuc2VhdEFycmF5OwoJCQl0aGlzLnNlbGVjdFRpY2tldC5mb3JFYWNoKGl0ZW0gPT4gewoJCQkJbmV3QXJyYXlbaXRlbS5yb3cgLSAxXVtpdGVtLmNvbCAtIDFdID0gMTsKCQkJfSkKCQl9LAoJCXNlbGVjdGVkOiBmdW5jdGlvbigpIHsKCQkJdGhpcy5pbml0U2VhdEFycmF5KCk7CgkJfQoJfQp9Cg=="},{"version":3,"sources":["Ticket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Ticket.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"ticket\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<ul class=\"coulmn\">\r\n\t\t\t\t<li>1</li>\r\n\t\t\t\t<li>2</li>\r\n\t\t\t\t<li>3</li>\r\n\t\t\t\t<li>4</li>\r\n\t\t\t\t<li>5</li>\r\n\t\t\t\t<li>6</li>\r\n\t\t\t\t<li>7</li>\r\n\t\t\t\t<li>8</li>\r\n\t\t\t\t<li>9</li>\r\n\t\t\t\t<li>10</li>\r\n\t\t\t</ul>\r\n\t\t\t<div class=\"allseat\">\r\n\t\t\t\t<div class=\"leftUp\">\r\n\t\t\t\t\t<div class=\"seatTitle\">\r\n\t\t\t\t\t\t<s></s>\r\n\t\t\t\t\t\t<p>布达佩斯大剧院的银幕</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"seatbody\">\r\n\t\t\t\t\t\t<div v-for=\"row in seatCol\" :key=\"row\">\r\n\t\t\t\t\t\t\t<div v-for=\"col in seatCol\" :key=\"col\" class=\"seat\"\r\n\t\t\t\t\t\t\t\t:style=\"{width:seatWidth+'px',height:seatHeight+'px',display:'inline-block'}\">\r\n\t\t\t\t\t\t\t\t<div class=\"inner-Seat\" v-if=\"seatArray[row-1][col-1]!=-1\"\r\n\t\t\t\t\t\t\t\t\t:class=\"seatArray[row-1][col-1]===2?'bought-seat':(seatArray[row-1][col-1]===1?'selected-seat':'unselected-seat')\"\r\n\t\t\t\t\t\t\t\t\t@click=\"handleChooseSeat(row-1,col-1)\">\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"leftDown\">\r\n\t\t\t\t\t<div class=\"seatChooseInfor\">\r\n\t\t\t\t\t\t<ul class=\"clearfix\">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span class=\"unselected-seat\"></span>\r\n\t\t\t\t\t\t\t\t可选座位\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span class=\"selected-seat\"></span>\r\n\t\t\t\t\t\t\t\t已选座位\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<span class=\"bought-seat\"></span>\r\n\t\t\t\t\t\t\t\t不可选座位\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<p>本影厅共有座位{{allseatnum}}个，当前已售{{zhoudata1.seat_ticket_count}}个</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t<div class=\"right\">\r\n\t\t\t<div class=\"rightUp\">\r\n\t\t\t\t<div class=\"oimage\">\r\n\t\t\t\t\t<img :src='zhoudata.image'>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"msg\">\r\n\t\t\t\t\t<div>{{zhoudata.name}}</div>\r\n\t\t\t\t\t<div>版本: 国语{{zhoudata.play_type}}</div>\r\n\t\t\t\t\t<div>片长: {{zhoudata.play_length}}分钟</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"rightDown\">\r\n\t\t\t\t<div class=\"place\">影院:\r\n\t\t\t\t\t<span>{{odata.place}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"ting\">影厅:\r\n\t\t\t\t\t<span>{{zhoudata1.studio}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"once\">场次:\r\n\t\t\t\t\t<span>{{zhoudata1.start_time}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"oseat\">\r\n\t\t\t\t\t座位:\r\n\t\t\t\t\t<div class=\"piao\">\r\n\t\t\t\t\t\t<div class=\"xiaopiao\" v-for=\"(item,index) in selectTicket\" :key=\"item.id\"\r\n\t\t\t\t\t\t\t@click=\"remove(index)\">\r\n\t\t\t\t\t\t\t{{item.row}}行{{item.col}}列\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p style=\"color:black\">已选择<span\r\n\t\t\t\t\t\t\t\tstyle=\"color:#eb002a\">{{selectTicket.length}}</span>个座位，再次点击座位可以取消</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"jiage\">\r\n\t\t\t\t\t<div class=\"yuanjia\">原价:￥{{zhoudata1.price}}x{{selectTicket.length}}</div>\r\n\t\t\t\t\t<div class=\"allplace\">总计:\r\n\t\t\t\t\t\t<span style=\"color:#eb002a\">\r\n\t\t\t\t\t\t\t{{zhoudata1.price*selectTicket.length}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"xiadan\" @click=\"this.sendmsg\">确认信息，下单</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tcreate\r\n\t} from 'domain';\r\n\timport store from '@/modules/login.js'\r\n\tconst odata = {\r\n\t\timage: 'https://img.alicdn.com/bao/uploaded/i3/TB1ebtnTrvpK1RjSZPiXXbmwXXa_.jpg_300x300.jpg',\r\n\t\tname: '最好的我们',\r\n\t\tbanben: '国语2D',\r\n\t\ttime: '110',\r\n\t\tplace: '布达佩斯大剧院',\r\n\t\tting: '5号厅',\r\n\t\tonce: '20:15',\r\n\t\tprice: 33.00,\r\n\t}\r\n\tconst url = 'http://129.204.185.247:8000/api/app01/getplay';\r\n\tconst url1 = 'http://129.204.185.247:8000/api/app01/getschemebyplayid';\r\n\tconst url2 = 'http://129.204.185.247:8000/api/app01/getticketbyschemeid';\r\n\tconst url3 = 'http://129.204.185.247:8000/api/app01/buyticket';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tseatRow: 10,\r\n\t\t\t\tseatCol: 10,\r\n\t\t\t\tseatArray: [],\r\n\t\t\t\tseatWidth: 46,\r\n\t\t\t\tseatHeight: 33,\r\n\t\t\t\tnum: 0,\r\n\t\t\t\tallseatnum: 100,\r\n\t\t\t\tselectseatnum: 50,\r\n\t\t\t\todata,\r\n\t\t\t\tselectTicket: [],\r\n\t\t\t\tok: 0,\r\n\t\t\t\tid: null,\r\n\t\t\t\tsch_id: null,\r\n\t\t\t\tzhoudata: {},\r\n\t\t\t\tzhoudata1: {},\r\n\t\t\t\tselected: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.id = this.$route.query.id,\r\n\t\t\t\tthis.sch_id = this.$route.query.sch_id\r\n\t\t\tthis.getdata();\r\n\t\t\tthis.getticket();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.initSeatArray();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetticket() {\r\n\t\t\t\tfetch(url2, {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: 'sch_id=' + this.sch_id\r\n\t\t\t\t\t}).then(response => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tthis.selected = data;\r\n\t\t\t\t\t\t// console.log(data);\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetdata() {\r\n\t\t\t\tfetch(url, {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: 'id=' + this.id\r\n\t\t\t\t\t}).then(response => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tdata[0].image = 'http://129.204.185.247:8000' + data[0].image\r\n\t\t\t\t\t\t// this.movie = data[0];\r\n\t\t\t\t\t\t// console.log(data[0])\r\n\t\t\t\t\t\tthis.zhoudata = data[0];\r\n\t\t\t\t\t})\r\n\t\t\t\tfetch(url1, {\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: 'play_id=' + this.id\r\n\t\t\t\t\t}).then(response => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\tdata.map((item, index) => {\r\n\t\t\t\t\t\t\titem.start_time = item.start_time.slice(11, 16);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlet xxx = data.findIndex(item => item.sch_id == this.sch_id);\r\n\t\t\t\t\t\tthis.zhoudata1 = data[xxx];\r\n\t\t\t\t\t\t// console.log(data[xxx])\r\n\t\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\t//-1  座位出问题\r\n\t\t\t// 0  可选座位\r\n\t\t\t// 1  已选座位\r\n\t\t\t// 2  已购票座位\r\n\t\t\tinitSeatArray: function() {\r\n\t\t\t\tlet seatArray = Array(this.seatRow).fill(0).map(() => Array(this.seatCol).fill(0));\r\n\t\t\t\tthis.seatArray = seatArray;\r\n\t\t\t\tthis.initNonSeatPlace();\r\n\t\t\t},\r\n\t\t\tinitNonSeatPlace: function() {\r\n\t\t\t\t// this.seatArray[2][3] = 2;\r\n\t\t\t\t// this.seatArray[3][3] = 2;\r\n\t\t\t\t// this.seatArray[2][4] = 2;\r\n\t\t\t\t// this.seatArray[5][5] = 2;\r\n\t\t\t\tthis.selected.forEach((item => {\r\n\t\t\t\t\t// console.log(item.row,item.col);\r\n\t\t\t\t\tthis.seatArray[item.row - 1][item.col - 1] = 2;\r\n\t\t\t\t}))\r\n\t\t\t},\r\n\t\t\thandleChooseSeat: function(x, y) {\r\n\t\t\t\tthis.ok++;\r\n\t\t\t\tconsole.log(this.num);\r\n\t\t\t\tlet seatValue = this.seatArray[x][y];\r\n\t\t\t\t// let newArray = this.seatArray;\r\n\t\t\t\tif (seatValue === 2) return\r\n\t\t\t\tif (seatValue === 1) {\r\n\t\t\t\t\t// newArray[x][y]=0;\r\n\t\t\t\t\tlet onum = this.selectTicket.findIndex(item => item.row == x + 1 && item.col == y + 1);\r\n\t\t\t\t\tthis.remove(onum);\r\n\r\n\t\t\t\t} else if (seatValue === 0) {\r\n\t\t\t\t\tthis.num++;\r\n\t\t\t\t\tif (this.num > 4) {\r\n\t\t\t\t\t\talert('单人最多选择四个座位');\r\n\t\t\t\t\t\tthis.num--;\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// newArray[x][y]=1;\r\n\t\t\t\t\tthis.selectTicket.push({\r\n\t\t\t\t\t\trow: x + 1,\r\n\t\t\t\t\t\tcol: y + 1,\r\n\t\t\t\t\t\tid: this.ok\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// this.seatArray = newArray.slice(); \r\n\t\t\t},\r\n\t\t\tremove: function(onum) {\r\n\t\t\t\tthis.selectTicket.splice(onum, 1);\r\n\t\t\t\tthis.num--;\r\n\t\t\t},\r\n\t\t\tsendmsg: function() {\r\n\t\t\t\t// fetch(url3,{\r\n\t\t\t\t//     method:'POST',\r\n\t\t\t\t//     headers: {\r\n\t\t\t\t//     'Content-Type': 'application/json'\r\n\t\t\t\t//     },\r\n\t\t\t\t//     body:JSON.stringify({\r\n\t\t\t\t//         sch_id:this.sch_id,\r\n\t\t\t\t//         selectTicket:this.selectTicket\r\n\t\t\t\t//     })\r\n\t\t\t\t//     }).then(response => response.JSON())\r\n\t\t\t\t//     .then((data)=>{\r\n\t\t\t\t//         console.log(data);\r\n\t\t\t\t// })\r\n\t\t\t\tthis.$http.post(url3, {\r\n\t\t\t\t\tuser_id: store.state.userId,\r\n\t\t\t\t\tsch_id: this.sch_id,\r\n\t\t\t\t\tselectTicket: this.selectTicket\r\n\t\t\t\t}).then((data) => {\r\n\t\t\t\t\talert(data.body.msg);\r\n\t\t\t\t\tthis.$router.push('/home');\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tselectTicket: function() {\r\n\t\t\t\tthis.initSeatArray();\r\n\t\t\t\tlet newArray = this.seatArray;\r\n\t\t\t\tthis.selectTicket.forEach(item => {\r\n\t\t\t\t\tnewArray[item.row - 1][item.col - 1] = 1;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselected: function() {\r\n\t\t\t\tthis.initSeatArray();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.unselected-seat {\r\n\t\tbackground: url('../assets/img/unselected.png') center center no-repeat;\r\n\t\tbackground-size: auto 88%;\r\n\t}\r\n\r\n\t.selected-seat {\r\n\t\tbackground: url('../assets/img/selected.png') center center no-repeat;\r\n\t\tbackground-size: auto 88%;\r\n\t}\r\n\r\n\t.bought-seat {\r\n\t\tbackground: url('../assets/img/bought.png') center center no-repeat;\r\n\t\tbackground-size: auto 88%;\r\n\t}\r\n\r\n\t.ticket {\r\n\t\twidth: 1000px;\r\n\t\theight: 600px;\r\n\t\tmargin: 50px auto;\r\n\t\tmin-width: 1000px;\r\n\t\tborder: 1px solid rgba(207, 203, 203, .5);\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.left {\r\n\t\twidth: 680px;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 20px;\r\n\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.left .coulmn {\r\n\t\twidth: 60px;\r\n\t\tmargin-top: 50px;\r\n\t\tlist-style-type: none;\r\n\t}\r\n\r\n\t.left .coulmn li {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #AEAEAE;\r\n\t\tline-height: 16px;\r\n\t\t/* box-sizing: border-box; */\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\r\n\t.left .coulmn li:nth-of-type(1) {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.right {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.leftUp {\r\n\t\theight: 460px;\r\n\t}\r\n\r\n\t.seatTitle {\r\n\t\twidth: 580px;\r\n\t\theight: 50px;\r\n\t}\r\n\r\n\t.seatTitle p {\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 16px;\r\n\t\tmargin: 0;\r\n\t}\r\n\r\n\ts {\r\n\t\tdisplay: block;\r\n\t\tbackground: url('./../assets/img/back.png');\r\n\t\theight: 30px;\r\n\t}\r\n\r\n\t.seatbody {\r\n\t\twidth: 100%;\r\n\t\theight: 370px;\r\n\t\t/* background-color:aliceblue; */\r\n\t\toverflow-y: scroll;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.seatbody::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.inner-Seat {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.leftDown {\r\n\t\tborder-top: 1px solid rgba(207, 203, 203, .5);\r\n\t}\r\n\r\n\t.leftDown .seatChooseInfor {\r\n\t\theight: 100px;\r\n\t\t/* background-color:aliceblue; */\r\n\t}\r\n\r\n\t.clearfix {\r\n\t\theight: 28px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.clearfix li {\r\n\t\tvertical-align: middle;\r\n\t\tlist-style-type: none;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.clearfix li span {\r\n\t\tvertical-align: -5px;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 26px;\r\n\t\theight: 25px;\r\n\t}\r\n\r\n\t.seatChooseInfor p {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t/* 右边的 */\r\n\t.right {\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 20px 0 0 20px;\r\n\t\tbackground-color: #FFF5F5;\r\n\t\tmax-width: 320px;\r\n\t}\r\n\r\n\t.rightUp {\r\n\t\tpadding: 0 10px 20px 0;\r\n\t\theight: 115px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.rightUp .oimage {\r\n\t\twidth: 80px;\r\n\t\theight: 113px;\r\n\t}\r\n\r\n\t.rightUp .oimage img {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.rightUp .msg {\r\n\t\tflex: 1;\r\n\t\tpadding: 0 0 0 10px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.rightUp .msg div:nth-of-type(1) {\r\n\t\tfont-weight: 700;\r\n\t\tpadding: 5px;\r\n\t}\r\n\r\n\t.rightUp .msg div:nth-of-type(n+2) {\r\n\t\tpadding: 5px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.rightDown .place,\r\n\t.ting,\r\n\t.once {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #9a9a9a;\r\n\t\theight: 35px;\r\n\t}\r\n\r\n\t.rightDown span {\r\n\t\tfont-size: 16px;\r\n\t}\r\n\r\n\t.place span,\r\n\t.ting span {\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #3e3e3e;\r\n\t}\r\n\r\n\t.once span {\r\n\t\tcolor: #eb002a;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.rightDown .oseat .piao {\r\n\t\tmargin-top: 10px;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.rightDown .oseat {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #9a9a9a;\r\n\t\tmin-height: 70px;\r\n\t}\r\n\r\n\t.rightDown .oseat .xiaopiao {\r\n\t\twidth: 48px;\r\n\t\theight: 26px;\r\n\t\tcolor: #eb002a;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 0px 24px 10px 0;\r\n\t\tpadding: 0 5px;\r\n\t\tborder: 1px solid #eb002a;\r\n\t\tline-height: 26px;\r\n\t}\r\n\r\n\t.jiage {\r\n\t\theight: 70px;\r\n\t\tborder-top: 1px solid rgba(207, 203, 203, .5);\r\n\t\tborder-bottom: 1px solid rgba(207, 203, 203, .5);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.jiage .yuanjia,\r\n\t.allplace {\r\n\t\ttop: 5px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #9a9a9a;\r\n\t\tpadding: 5px 0;\r\n\t}\r\n\r\n\t.xiadan {\r\n\t\twidth: 155px;\r\n\t\theight: 42px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #eb002a;\r\n\t\tmargin: 40px 0 0;\r\n\t\tline-height: 42px;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\n"]}]}